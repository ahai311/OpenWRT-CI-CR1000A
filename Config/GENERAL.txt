# 目标平台
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq807x=y
CONFIG_TARGET_qualcommax_ipq807x_DEVICE_verizon_cr1000a=y  # Verizon CR1000A 设备

# 科学上网插件
CONFIG_PACKAGE_luci-app-passwall=y         # 多协议代理（SS/V2Ray/Trojan）
CONFIG_PACKAGE_luci-app-mosdns=y           # 高性能 DNS（支持 GeoIP）
CONFIG_PACKAGE_luci-app-openclash=y        # Clash 管理界面
CONFIG_PACKAGE_luci-app-upnp=y             # UPnP（IGD）端口映射
CONFIG_PACKAGE_miniupnpd-pcp=y            # PCP 支持
# CONFIG_PACKAGE_luci-app-homeproxy=n      # 移除：功能重叠

# Docker 支持
CONFIG_PACKAGE_dockerd=y                   # Docker 守护进程
CONFIG_PACKAGE_luci-app-dockerman=y        # Docker 图形界面
CONFIG_PACKAGE_kmod-overlayfs=y            # OverlayFS 支持
CONFIG_PACKAGE_kmod-veth=y                 # 虚拟网卡
CONFIG_PACKAGE_kmod-libcgroup=y            # CGroup 控制组
CONFIG_PACKAGE_kmod-nf-nat=y               # NAT 转发
CONFIG_PACKAGE_kmod-nf-conntrack=y         # 连接跟踪
CONFIG_PACKAGE_cgroupfs-mount=y            # Docker 依赖

# 核心组件
CONFIG_PACKAGE_luci-base=y                 # LuCI 基础组件
CONFIG_PACKAGE_luci-compat=y               # LuCI 兼容模块
CONFIG_PACKAGE_luci-lib-base=y             # LuCI 底层库
CONFIG_PACKAGE_luci-lib-ipkg=y             # LuCI IPK 包管理
CONFIG_PACKAGE_luci-lua-runtime=y          # LuCI Lua 运行支持
CONFIG_PACKAGE_luci-proto-relay=y          # 网络中继协议

# 网络驱动模块
CONFIG_PACKAGE_kmod-ath11k=y               # Qualcomm Wi-Fi 6/6E 驱动
CONFIG_PACKAGE_ath11k-firmware=y           # Wi-Fi 6 固件
# CONFIG_PACKAGE_kmod-qcn9074=n            # 移除：CR1000A 不支持 Wi-Fi 7
CONFIG_PACKAGE_kmod-spi-dev=y              # RTL9303 LAN 支持
CONFIG_KERNEL_DEVMEM=y                     # RTL9303 寄存器访问

# NSS 加速支持（Qualcomm IPQ807x）
CONFIG_PACKAGE_kmod-qca-nss-drv=y          # NSS 核心驱动
CONFIG_PACKAGE_kmod-qca-nss-ecm=y          # ECM 加速
CONFIG_PACKAGE_kmod-qca-nss-dp=y           # 数据平面加速
CONFIG_PACKAGE_kmod-qca-nss-cfi=y          # Flash I/O 加速
CONFIG_PACKAGE_kmod-qca-nss-crypto=y       # NSS 加密加速

# 内核模块（精简）
CONFIG_PACKAGE_kmod-dsa=y                  # DSA 桥接支持（RTL9303 交换芯片）
CONFIG_PACKAGE_kmod-nft-bridge=y           # 桥接规则
CONFIG_PACKAGE_kmod-nft-core=y             # nftables 核心
CONFIG_PACKAGE_kmod-nft-fib=y              # 路由表转发
CONFIG_PACKAGE_kmod-nft-fullcone=y         # 全锥形 NAT（Clash 推荐）
CONFIG_PACKAGE_kmod-nft-nat=y              # NAT 转发
CONFIG_PACKAGE_kmod-nft-tproxy=y           # Tproxy 转发（Clash）
CONFIG_PACKAGE_kmod-tun=y                  # VPN 支持
CONFIG_PACKAGE_kmod-wireguard=y            # WireGuard VPN

# USB 和存储支持
CONFIG_PACKAGE_kmod-usb-core=y             # 通用 USB 支持
CONFIG_PACKAGE_kmod-usb3=y                 # USB 3.0 支持
CONFIG_PACKAGE_kmod-usb-storage=y          # USB 存储
CONFIG_PACKAGE_kmod-usb-storage-extras=y   # 扩展存储支持
CONFIG_PACKAGE_kmod-usb-storage-uas=y      # UAS 高效存储
CONFIG_PACKAGE_kmod-fs-ext4=y              # ext4 文件系统（Docker/p28）
CONFIG_PACKAGE_kmod-fs-vfat=y              # vfat（USB 兼容性）
CONFIG_PACKAGE_automount=y                 # 自动挂载
CONFIG_PACKAGE_blkid=y                     # 分区识别

# 加密支持（p28 分区）
CONFIG_PACKAGE_cryptsetup=y                # LUKS 解密
CONFIG_PACKAGE_kmod-crypto-aead=y          # 加密算法支持

# 编译优化
CONFIG_DEVEL=y                             # 开发模式
CONFIG_CCACHE=y                            # 编译缓存
CONFIG_TARGET_MULTI_PROFILE=y              # 多设备配置
CONFIG_TARGET_PER_DEVICE_ROOTFS=y          # 独立 RootFS
CONFIG_TARGET_ROOTFS_SQUASHFS=y            # SquashFS 压缩固件
CONFIG_TARGET_IMAGES_GZIP=y                # GZIP 压缩镜像

# 精简工具
CONFIG_PACKAGE_dmesg=y                     # 内核日志
CONFIG_PACKAGE_htop=y                      # 进程监控
CONFIG_PACKAGE_iperf3=y                    # 网络性能测试
CONFIG_PACKAGE_ip-full=y                   # IP 工具集

# 移除不必要的插件和模块（节省空间）
# CONFIG_PACKAGE_luci-app-autoreboot=n      # 非必需
# CONFIG_PACKAGE_luci-app-netspeedtest=n    # 非必需
# CONFIG_PACKAGE_luci-app-partexp=n         # 非必需
# CONFIG_PACKAGE_luci-app-samba4=n          # 非必需
# CONFIG_PACKAGE_luci-app-usb-printer=n     # 非必需
# CONFIG_PACKAGE_kmod-fs-btrfs=n            # 非必需文件系统
# CONFIG_PACKAGE_kmod-fuse=n                # 非必需
# CONFIG_PACKAGE_kmod-inet-diag=n           # 非必需
# CONFIG_PACKAGE_kmod-mtd-rw=n              # 非必需
# CONFIG_PACKAGE_kmod-netlink-diag=n        # 非必需
# CONFIG_PACKAGE_kmod-nft-netdev=n          # 非必需
# CONFIG_PACKAGE_kmod-nft-offload=n         # 非必需
# CONFIG_PACKAGE_kmod-nft-queue=n           # 非必需
# CONFIG_PACKAGE_kmod-nft-socket=n          # 非必需
# CONFIG_PACKAGE_kmod-sound-core=n          # 无音频需求
# CONFIG_PACKAGE_kmod-usb-audio=n           # 无音频需求
# CONFIG_PACKAGE_kmod-usb-dwc3=n            # 非必需（IPQ807x 不需要）
# CONFIG_PACKAGE_kmod-usb-net=n             # 禁用 USB 网络
# CONFIG_PACKAGE_kmod-usb-net-cdc-eem=n
# CONFIG_PACKAGE_kmod-usb-net-cdc-ether=n
# CONFIG_PACKAGE_kmod-usb-net-cdc-mbim=n
# CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=n
# CONFIG_PACKAGE_kmod-usb-net-cdc-subset=n
# CONFIG_PACKAGE_kmod-usb-net-huawei-cdc-ncm=n
# CONFIG_PACKAGE_kmod-usb-net-qmi-wwan=n
# CONFIG_PACKAGE_kmod-usb-net-qmi-wwan-fibocom=n
# CONFIG_PACKAGE_kmod-usb-net-rndis=n
# CONFIG_PACKAGE_kmod-usb-net-rtl8150=n
# CONFIG_PACKAGE_kmod-usb-net-rtl8152=n
# CONFIG_PACKAGE_kmod-usb-ohci=n            # 非必需
# CONFIG_PACKAGE_kmod-usb-uhci=n            # 非必需
# CONFIG_PACKAGE_kmod-usb-xhci=n            # 非必需
# CONFIG_PACKAGE_autocore=n                 # 非必需
# CONFIG_PACKAGE_cfdisk=n                   # 非必需
# CONFIG_PACKAGE_cgdisk=n                   # 非必需
# CONFIG_PACKAGE_coremark=n                 # 非必需
# CONFIG_PACKAGE_cpufreq=n                  # 非必需
# CONFIG_PACKAGE_fdisk=n                    # 非必需
# CONFIG_PACKAGE_gdisk=n                    # 非必需
# CONFIG_PACKAGE_libimobiledevice=n         # 非必需
# CONFIG_PACKAGE_lsblk=n                    # 非必需
# CONFIG_PACKAGE_mmc-utils=n                # 非必需
# CONFIG_PACKAGE_nand-utils=n               # 非必需
# CONFIG_PACKAGE_openssh-sftp-server=n      # 非必需
# CONFIG_PACKAGE_sfdisk=n                   # 非必需
# CONFIG_PACKAGE_sgdisk=n                   # 非必需
# CONFIG_PACKAGE_usbmuxd=n                  # 非必需
# CONFIG_PACKAGE_usbutils=n                 # 非必需
# CONFIG_PACKAGE_luci-proto-bonding=n       # 非必需
